
<!--<div ng-controller="channelMessageCreateController">
    <div ng-hide="DeliveryMechanisms">
        <form name="form" novalidate>
            <table class="CreateMessage">
                <tr>
                    <td>
                        <b>&nbsp;Send Message To </b><samp class="red">*</samp>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input name="ToAllUser" type="radio" ng-model="AllSubscribers" ng-value="true" ng-click="UerSelect();" required /> All Subscribers
                        &nbsp; <input name="SelectedUser" type="radio" ng-model="AllSubscribers" ng-value="false" ng-click="UerSelect();" required />Select Subscribers

                        <div ng-show="form.$submitted || form.ToAllUser.$touched || form.SelectedUser.$touched " class="errorMsg">
                            <div ng-show="form.ToAllUser.$error.required">Please select subscribers.</div>
                            <div ng-show="form.SelectedUser.$error.required">Please select subscribers.</div>
                        </div>
                    </td>
                </tr>
                <tr ng-hide="AllSubscribers"><td> <b ng-hide="AllSubscribers">&nbsp;Select Users</b> </td></tr>
                <tr ng-hide="AllSubscribers">
                    <td>                        
                        <div>
                            <label ng-hide="AllSubscribers" ng-repeat="subscriber in SubscriberList">
                                
                                <input type="checkbox"
                                       name="selectedUsers[]"
                                       value="{{subscriber.ID}}"
                                       ng-checked="selection.indexOf(subscriber.ID) > -1"
                                       ng-click="toggleSelection(subscriber.ID)"> {{subscriber.Name}}
                            </label>
                            <div ng-show="form.$submitted" class="errorMsg">
                                <div ng-show="ErrorShow">Please checked at least one subscribers.</div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr><td>&nbsp;Send message by<samp class="red">*</samp> </td></tr>
                <tr>
                    <td>
                        <input type="checkbox" ng-model="IsSMS" name="sms" ng-required="!someSelected()">SMS &nbsp;&nbsp;
                        <input type="checkbox" ng-model="IsEmail" name="email" ng-required="!someSelected()">Email<br />

                        <div ng-show="form.$submitted || form.sms.$touched || form.email.$touched " class="errorMsg">
                            <div ng-show="form.sms.$error.required">Please  checked at least one.</div>
                        </div>
                    </td>
                </tr>

                <tr><td>&nbsp;Subject<samp class="red">*</samp></td></tr>
                <tr>
                    <td>
                        <input name="subject" type="text" ng-model="Subject" maxlength="500" ng-required="IsEmail" />
                        <div ng-show="form.$submitted || form.subject.$touched" class="errorMsg">
                            <div ng-show="form.subject.$error.required">Please enter message subject.</div>
                        </div>
                    </td>
                </tr>
                <tr><td>&nbsp;Email Message<samp class="red">*</samp></td></tr>
                <tr>
                    <td>
                        <textarea cols="2" rows="5" ng-model="EmailMessage" name="EmailMessage" id="txtEmailMessage" ng-trim="false" ng-required="IsEmail"></textarea>
                        <div style="color:green; float:left;">{{EmailMessage.length}} characters typed so far.</div>
                        <div ng-show="form.$submitted || form.EmailMessage.$touched" class="errorMsg">
                            <div ng-show="form.EmailMessage.$error.required">Please enter email message.</div>
                        </div>

                    </td>
                </tr>

                <tr><td>&nbsp;Test Message <samp class="red">*</samp></td></tr>
                <tr>
                    <td>
                        <textarea cols="2" rows="5" ng-model="Message" name="message" id="txtMessage" ng-trim="false" ng-required="IsSMS"></textarea>
                        <div style="color:green; float:left;">{{Message.length}} characters typed so far.</div>
                        <div style="color:blue; float:right;" id="DivLeft">{{155 - Message.length}} left characters remaining.</div>
                        <div ng-show="form.$submitted || form.message.$touched" class="errorMsg">
                            <div ng-show="form.message.$error.required">Please enter message.</div>
                        </div>                        
                    </td>
                </tr>


                <tr><th>Scheduling options</th></tr>
                <tr>
                    <td>
                        <table>
                            <tr><td><b>Publish On</b></td><td><b>Immediate</b> <input type="checkbox" ng-model="IsScheduled" name="IsScheduled" ng-click="IsScheduledMessage();" /></td></tr>
                            <tr ng-hide="IsScheduled"><td><b>Date</b></td><td><b>Time</b></td></tr>
                            <tr ng-hide="IsScheduled">
                                <td>
                                    <input type="date" id="Sdate" name="Sdate" ng-model="ScheduledOnDate" placeholder="yyyy-MM-dd" min="2013-01-01" max="2017-12-31" />
                                </td>
                                <td>
                                    <input type="time" id="Stime" name="Stime" ng-model="ScheduledOnTime" placeholder="HH:mm:ss" />

                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>
                        &nbsp;Media URL
                    </td>
                </tr>
                <tr>
                    <td>
                        <div>
                            <label ng-repeat="media in MediaList">
                                <input type="checkbox"
                                       name="selectedmedia[]"
                                       value="{{media.ID}}"
                                       ng-checked="selection.indexOf(media.ID) > -1"
                                       ng-click="toggleMedia(media.ID)"> {{media.Name}}
                            </label>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>

                        <button ng-click="createMessageApprove()" type="submit" class="btnsave" ng-disabled="form.$invalid" ng-hide="IsScheduled">
                            Approve
                        </button>
                        <button confirmed-click="createMessageNew()" type="submit" class="btnsave" ng-disabled="form.$invalid"
                                ng-confirm-click="Send this Message Now?">
                            {{ButtonText}}
                        </button>
                        <button type="button" class="btnsave" ng-click="Cancel()">Cancel</button>

                    </td>
                </tr>

            </table>
        </form>

    </div>
    <div ng-show="DeliveryMechanisms">
        <table class="CreateMessage">
            <tr ng-show="IsSMS">
                <td><br /><br />
                    <h3>The following list of Subscriber(s) have chosen delivery mechanism as Email. Do you want to send Email instead? </h3>
                    <br />
                   
                    <label ng-repeat="subscriber in itemsEmail">
                        <input type="checkbox"
                               name="selectedUsersEmail[]"
                               value="{{subscriber.ID}}"
                               ng-checked="selectedUsersEmail.indexOf(subscriber.ID) > -1"
                               ng-click="toggleSelectionEmail(subscriber.ID)"> {{subscriber.Name}}
                    </label>
                    <br /><br />
                </td>
            </tr>
            <tr ng-show="IsEmail">
                <td>
                    <h3>The following list of Subscriber(s) have chosen delivery mechanism as Text (SMS). Do you want to send Text (SMS) instead? </h3>
                    <br />
                    

                    <label ng-repeat="subscriber in itemsSMS">
                        <input type="checkbox"
                               name="selectedUsersSMS[]"
                               value="{{subscriber.ID}}"
                               ng-checked="selectedUsersSMS.indexOf(subscriber.ID) > -1"
                               ng-click="toggleSelectionSMS(subscriber.ID)"> {{subscriber.Name}}
                    </label>
                    <br />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <br /><br />
                    <button type="button" class="btnsaveNew" ng-click="DeliveryYes()">Yes & Continue</button>
                    <button type="button" class="btnsaveNew" ng-click="DeliveryNo()">No & Continue</button>
                    <button type="button" class="btnsaveNew" ng-click="CancelDelivery()">Cancel</button>
                    <br /><br /><br />
                </td>
            </tr>
        </table>
</div>
</div>-->

<div class="slideSubBody">
    <div class="setting-table" ng-controller="channelMessageCreateController">
        <!-- Row-->
        <div class="row">
            <div class="col-sm-4">
                <div class="setting-label">Send Message To<span class="mandatory">*</span></div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-8">
                <div class="setting-field">
                    <label>
                        <input name="ToAllUser" type="radio" ng-model="AllSubscribers" ng-value="true" ng-click="UerSelect();" required /> All Subscribers
                    </label>
                    <label>
                        <input name="SelectedUser" type="radio" ng-model="AllSubscribers" ng-value="false" ng-click="UerSelect();" required />Select Subscribers
                    </label>

                            <div ng-show="form.$submitted || form.ToAllUser.$touched || form.SelectedUser.$touched " class="errorMsg">
                                <div ng-show="form.ToAllUser.$error.required">Please select subscribers.</div>
                                <div ng-show="form.SelectedUser.$error.required">Please select subscribers.</div>
                            </div>

                            
</div>
            </div>
        </div>
        <div class="row" ng-hide="AllSubscribers">
            <div class="col-sm-4">
                <div class="setting-label">Select Users<span class="mandatory">*</span></div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-8">
                <div class="setting-field">
                    <label ng-hide="AllSubscribers" ng-repeat="subscriber in SubscriberList">

                        <input type="checkbox"
                               name="selectedUsers[]"
                               value="{{subscriber.ID}}"
                               ng-checked="selection.indexOf(subscriber.ID) > -1"
                               ng-click="toggleSelection(subscriber.ID)"> {{subscriber.Name}}
                    </label>
                    <div ng-show="form.$submitted" class="errorMsg">
                        <div ng-show="ErrorShow">Please checked at least one subscribers.</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="setting-label">Send Message By<span class="mandatory">*</span></div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-8">
                <div class="setting-field">
                    <label>
                        <input type="checkbox" ng-model="IsSMS" name="sms" ng-required="!someSelected()" />SMS
                    </label>
                    <label>
                        <input type="checkbox" ng-model="IsEmail" name="email" ng-required="!someSelected()" />Email
                    </label>
                            <div ng-show="form.$submitted || form.sms.$touched || form.email.$touched " class="errorMsg">
                                <div ng-show="form.sms.$error.required">Please  checked at least one.</div>
                            </div>
                 </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="setting-label">Subject<span class="mandatory">*</span></div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-8">
                <div class="setting-field">
                    <input name="subject" type="text" ng-model="Subject" maxlength="500" ng-required="IsEmail" />
                    <div ng-show="form.$submitted || form.subject.$touched" class="errorMsg">
                        <div ng-show="form.subject.$error.required">Please enter message subject.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-4">
                <div class="setting-label">Email Message<span class="mandatory">*</span></div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-8">
                <div class="setting-field">
                    <textarea cols="2" rows="5" ng-model="EmailMessage" name="EmailMessage" id="txtEmailMessage" ng-trim="false" ng-required="IsEmail"></textarea>
                    <div style="color:green; float:left;">{{EmailMessage.length}} characters typed so far.</div>
                    <div ng-show="form.$submitted || form.EmailMessage.$touched" class="errorMsg">
                        <div ng-show="form.EmailMessage.$error.required">Please enter email message.</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="setting-label">Text Message<span class="mandatory">*</span></div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-8">
                <div class="setting-field">
                    <textarea cols="2" rows="5" ng-model="Message" name="message" id="txtMessage" ng-trim="false" ng-required="IsSMS"></textarea>
                    <div style="color:green; float:left;">{{Message.length}} characters typed so far.</div>
                    <div style="color:blue; float:right;" id="DivLeft">{{155 - Message.length}} left characters remaining.</div>
                    <div ng-show="form.$submitted || form.message.$touched" class="errorMsg">
                        <div ng-show="form.message.$error.required">Please enter message.</div>
                    </div>   
                   
                </div>
            </div>
        </div>

        <div class="row" style="background:#333; color:#fff;">
            <div class="col-sm-12">
                <div class=""><strong>Scheduling Options</strong></div>
                <div class="clearfix"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="">Publish On</div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-6">
                <div class=""><label><input type="checkbox" ng-model="IsScheduled" name="IsScheduled" ng-click="IsScheduledMessage();" /> Immediate</label> </div>
            </div>
        </div>

        <div class="row" ng-hide="IsScheduled">
            <div class="col-sm-6">
                <div class="">
                    <label>  Date</label>
                    <input type="date" id="Sdate" name="Sdate" ng-model="ScheduledOnDate" placeholder="yyyy-MM-dd" min="2013-01-01" max="2017-12-31" />
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-6">
                <div class="">
                    <label>
                        Time
                    </label>
                        <input type="time" id="Stime" name="Stime" ng-model="ScheduledOnTime" placeholder="HH:mm:ss" />
</div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="setting-label">Media URL</div>
                <div class="clearfix"></div>
            </div>
            <div class="col-sm-8">
                <div class="setting-field">
                    <label ng-repeat="media in MediaList">
                        <input type="checkbox"
                               name="selectedmedia[]"
                               value="{{media.ID}}"
                               ng-checked="selection.indexOf(media.ID) > -1"
                               ng-click="toggleMedia(media.ID)"> {{media.Name}}
                    </label>
                </div>
            </div>
        </div>


       <div class="row cart-buttons">
           
            
            <div class="col-xs-4">
                <button ng-click="createMessageApprove()" type="submit" class="btn btn-default" ng-disabled="form.$invalid" ng-hide="IsScheduled" style="width:100%">
                    Approve
                </button>
            </div>

            <div class="col-xs-4">
                <button confirmed-click="createMessageNew()" type="submit" class="btn btn-default" ng-disabled="form.$invalid" style="width:100%"
                        ng-confirm-click="Send this Message Now?">
                    {{ButtonText}}
                </button>
            </div>

            <div class="col-xs-4 text-right">
                <button type="button" class="btn btn-default cancelBtn" ng-click="Cancel()" style="width:100%" >Cancel</button>
                
            </div>
        </div>

    </div>

    <div ng-show="DeliveryMechanisms">
        <table class="CreateMessage">
            <tr ng-show="IsSMS">
                <td>
                    <br /><br />
                    <h3>The following list of Subscriber(s) have chosen delivery mechanism as Email. Do you want to send Email instead? </h3>
                    <br />

                    <label ng-repeat="subscriber in itemsEmail">
                        <input type="checkbox"
                               name="selectedUsersEmail[]"
                               value="{{subscriber.ID}}"
                               ng-checked="selectedUsersEmail.indexOf(subscriber.ID) > -1"
                               ng-click="toggleSelectionEmail(subscriber.ID)"> {{subscriber.Name}}
                    </label>
                    <br /><br />
                </td>
            </tr>
            <tr ng-show="IsEmail">
                <td>
                    <h3>The following list of Subscriber(s) have chosen delivery mechanism as Text (SMS). Do you want to send Text (SMS) instead? </h3>
                    <br />


                    <label ng-repeat="subscriber in itemsSMS">
                        <input type="checkbox"
                               name="selectedUsersSMS[]"
                               value="{{subscriber.ID}}"
                               ng-checked="selectedUsersSMS.indexOf(subscriber.ID) > -1"
                               ng-click="toggleSelectionSMS(subscriber.ID)"> {{subscriber.Name}}
                    </label>
                    <br />
                    <br />
                </td>
            </tr>
            <tr>
                <td>
                    <br /><br />
                    <button type="button" class="btnsaveNew" ng-click="DeliveryYes()">Yes & Continue</button>
                    <button type="button" class="btnsaveNew" ng-click="DeliveryNo()">No & Continue</button>
                    <button type="button" class="btnsaveNew" ng-click="CancelDelivery()">Cancel</button>
                    <br /><br /><br />
                </td>
            </tr>
        </table>
    </div>
</div>
